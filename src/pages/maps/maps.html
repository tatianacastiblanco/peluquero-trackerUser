<!--
  Generated template for the MapsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>maps <small *ngIf="seguirE" >siguiendo a: {{estilistaNom}}</small></ion-title>
    <button (click)="getDirection()">Seguir</button>
  </ion-navbar>

</ion-header>


<ion-content padding>



  <agm-map
    [latitude]="lat" 
    [longitude]="long"
    [fullscreenControl]="true"
    [styles]="labels"
    (mapClick)="mapClicked($event)"
    [zoom]="16">
    <agm-marker  *ngFor="let estilista of estilistas" 
    [latitude]="estilista.lat" 
    [longitude]="estilista.long"
    [iconUrl]="estilista.imagen"
    [markerDraggable]="false"
  ></agm-marker>

  <agm-direction *ngIf="dir" [origin]="dir.origin" [destination]="dir.destination"></agm-direction>

  <agm-circle [latitude]="lat" [longitude]="long" 
    [radius]="15"
    [fillColor]="'red'">
  </agm-circle>
  </agm-map>

  <ion-list no-lines>
    <ion-item (click)="trackerEstilista(estilista)" *ngFor="let estilista of estilistas">
      <ion-avatar item-start>
          <img src="assets/img/ian-avatar.png">
          <h3>{{estilista.nombre}}</h3>
      </ion-avatar>
    </ion-item>
    <button ion-button *ngIf="seguirE" (click)="cancelarEstilista()">
      Cancelar
    </button> 
  </ion-list>

</ion-content>
